(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)})(function(e,a){function i(i,n){0==e("#overlay-animation").length&&e('<style id="overlay-animation">').html(" @keyframes loadingOverlayAnimation { from { transform: scale(1); } to { transform: scale(.2); } }").appendTo("body"),i=e(i);var o=i.is("body"),r=i.data("LoadingOverlayCount");if(r===a&&(r=0),0===r){var d=e("<div>",{class:"loadingoverlay",css:{"background-color":n.color,position:"relative",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}}),s=.6,l=e("<div>",{class:"loadingoverlaycircle",css:{position:"absolute",width:13,height:13,backgroundColor:"#000",borderRadius:"100%",animation:"loadingOverlayAnimation "+s+"s infinite cubic-bezier(.3,0,1,.75)"}}),f=e("<div>",{css:{position:"relative",width:"300px",height:"300px",maxWidth:"100%",maxHeight:"100%"}});if(d.append(f),n.zIndex!==a&&d.css("z-index",n.zIndex),n.fontawesome&&e("<div>",{class:"loadingoverlay_fontawesome "+n.fontawesome}).appendTo(d),n.custom&&e(n.custom).appendTo(d),o?d.css({position:"fixed",top:0,left:0,width:"100%",height:"100%"}):d.css("position","fixed"===i.css("position")?"fixed":"absolute"),t(i,d,n,o),n.resizeInterval>0){var c=setInterval(function(){t(i,d,n,o)},n.resizeInterval);i.data("LoadingOverlayResizeIntervalId",c)}n.fade?n.fade===!0?n.fade=[400,200]:"string"!=typeof n.fade&&"number"!=typeof n.fade||(n.fade=[n.fade,n.fade]):n.fade=[0,0],i.data({LoadingOverlay:d,LoadingOverlayFadeOutDuration:n.fade[1]}),d.hide().appendTo("body").fadeIn(n.fade[0]);for(var v=50,u=Math.PI,p=12,h=f.innerWidth(),y=f.innerHeight(),g=0;g<p;g++)f.append(l.clone().css({left:h/2+Math.sin(2*u/p*g)*v,top:y/2+Math.cos(2*u/p*g)*v,animationDelay:-s/p*g+"s"}))}r++,i.data("LoadingOverlayCount",r)}function n(i,n){i=e(i);var t=i.data("LoadingOverlayCount");if(t!==a)if(t--,n||t<=0){var o=i.data("LoadingOverlayResizeIntervalId");o&&clearInterval(o),i.data("LoadingOverlay").fadeOut(i.data("LoadingOverlayFadeOutDuration"),function(){e(this).remove()}),i.removeData(["LoadingOverlay","LoadingOverlayCount","LoadingOverlayFadeOutDuration","LoadingOverlayResizeIntervalId"])}else i.data("LoadingOverlayCount",t)}function t(a,i,n,t){if(!t){var o="fixed"===a.css("position")?a.position():a.offset();i.css({top:o.top+parseInt(a.css("border-top-width"),10),left:o.left+parseInt(a.css("border-left-width"),10),width:a.innerWidth(),height:a.innerHeight()})}var r=t?e(window):a,d="auto";n.size&&"auto"!=n.size&&(d=Math.min(r.innerWidth(),r.innerHeight())*parseFloat(n.size)/100,n.maxSize&&d>parseInt(n.maxSize,10)&&(d=parseInt(n.maxSize,10)+"px"),n.minSize&&d<parseInt(n.minSize,10)&&(d=parseInt(n.minSize,10)+"px")),i.children(".loadingoverlay_fontawesome").css("font-size",d)}var o={color:"rgba(255, 255, 255, 0.8)",custom:"",fade:!0,fontawesome:"",imagePosition:"center center",maxSize:"100px",minSize:"20px",resizeInterval:50,size:"50%",zIndex:2147483647};e.LoadingOverlaySetup=function(a){e.extend(!0,o,a)},e.LoadingOverlay=function(a,t){switch(a.toLowerCase()){case"show":var r=e.extend(!0,{},o,t);i("body",r);break;case"hide":n("body",t)}},e.fn.LoadingOverlay=function(a,t){switch(a.toLowerCase()){case"show":var r=e.extend(!0,{},o,t);return this.each(function(){i(this,r)});case"hide":return this.each(function(){n(this,t)})}}});